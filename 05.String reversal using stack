
Aim:
To reverse a given string using stack data structure.

Code:

#include <stdio.h>
#include <stdlib.h>
#include <string.h>

int top = -1;
int max = 0;
char *stack = NULL;

void push(char item)
{
    if (top == max - 1) {
        printf("stack overflow\n");
    } else {
        stack[++top] = item;
    }
}

char pop(void)
{
    if (top == -1) {
        printf("stack underflow\n");
        return '\0';
    } else {
        return stack[top--];
    }
}

void stringreversal(void)
{
    char *input = malloc((size_t)max + 1);
    if (!input) return;

    printf("Please enter a string (max %d chars): ", max);
    if (fgets(input, max + 1, stdin) == NULL) {
        free(input);
        return;
    }

    size_t len = strlen(input);
    if (len > 0 && input[len - 1] == '\n') {
        input[len - 1] = '\0';
        --len;
    }

    for (size_t i = 0; i < len; ++i) {
        push(input[i]);
    }

    printf("Reversed string: ");
    for (size_t i = 0; i < len; ++i) {
        char c = pop();
        if (c != '\0') putchar(c);
    }
    putchar('\n');

    free(input);
}

int main(void)
{
    printf("Enter the maximum size of the char stack: ");
    if (scanf("%d", &max) != 1 || max <= 0) {
        return 1;
    }

    int ch;
    while ((ch = getchar()) != '\n' && ch != EOF) {}

    stack = malloc((size_t)max * sizeof *stack);
    if (!stack) {
        return 1;
    }

    stringreversal();

    free(stack);
    stack = NULL;
    return 0;
}

output:
Enter the size of char stack: 20
Enter the string to reverse: hello
Reversed string: olleh

result:
The program successfullY demonstrates string reversal using POP & PUSH.
